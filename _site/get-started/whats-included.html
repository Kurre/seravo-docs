<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <link rel="icon" href="/images/favicon.png">

        <title>WP-Palvelu.fi Docs : Basics and Paths</title>
        <meta name="description" content="Documentation for Developers">

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/gh-buttons.css">
        <link href='https://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
    </head>
    <body>
    <a class="fork-me-in-github" href="https://github.com/WP-Palvelu/developer-documentation"><img style="z-index: 1000; position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>

        <div class="container">
            <div class="row">
                <div id="header" class="col-sm-12">
                    <h4><a class="brand" href="/"><img class="logo" src="/images/wp-palvelu-logo.png"> - Docs</a>
    <small>Documentation for Developers</small>
</h4>

                </div>
            </div>

            <div class="row">
                
                
                    <div id="navigation" class="col-sm-2">
                        <ul class="nav nav-list">
    <li><a href="/">Home</a></li>
    
        
        

        
            
                <li class="nav-header">Get Started</li>
            
            <li data-order="1"><a href="/get-started/whats-included.html">Basics and Paths</a></li>
        
            
            <li data-order="2"><a href="/get-started/configure-ssh.html">Configure SSH</a></li>
        
    
        
        

        
            
                <li class="nav-header">Configuration</li>
            
            <li data-order=""><a href="/configuration/composer.html">Composer</a></li>
        
            
            <li data-order=""><a href="/configuration/nginx.html">Web server - Nginx</a></li>
        
    
        
        

        
            
                <li class="nav-header">Testing</li>
            
            <li data-order=""><a href="/tests/integration-tests.html">Integration tests using Rspec</a></li>
        
    
        
        

        
            
                <li class="nav-header">Development</li>
            
            <li data-order="5"><a href="/development/using-git-hooks.html">Using Git hooks</a></li>
        
            
            <li data-order="1"><a href="/development/intro.html">Intro</a></li>
        
            
            <li data-order=""><a href="/development/gulp.html">Compile assets & automate with Gulp</a></li>
        
            
            <li data-order=""><a href="/development/mailcatcher.html">Debug mails with MailCatcher</a></li>
        
            
            <li data-order=""><a href="/development/xdebug.html">Profile runtime with xDebug & Webgrind</a></li>
        
    
        
        

        
            
                <li class="nav-header">Deployment</li>
            
            <li data-order=""><a href="/deployment/using-git.html">Deploy using Git</a></li>
        
    
        
        

        
            
                <li class="nav-header">Management</li>
            
            <li data-order=""><a href="/management/use-wordpress-with-wpcli.html">Manage with wp-cli</a></li>
        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class="divider"></li> first to break up the content. -->
</ul>

                    </div>

                    <div id="content" class="col-sm-10">
                        <div class="page-header">
    <h2>Basics and Paths
        
    </h2>
</div>
<a id="edit-this-page" href="https://github.com/WP-Palvelu/developer-documentation/edit/gh-pages/_posts/2015-10-12-whats-included.md" class="button icon edit github">Edit this page in GitHub</a>

<h2 id="base-installation">Base installation</h2>

<p>WP-Palvelu uses <a href="https://github.com/Seravo/wordpress">https://github.com/Seravo/wordpress</a> as base installation for all sites. If you have any problems with the template please add <a href="https://github.com/Seravo/wordpress/issues">issue to Github</a>.</p>

<h2 id="data-locations">Data locations</h2>

<p>All of your data is held under path: <code>/data/</code>. During the updates of your site we will wipe away all unneccessary files and only preserve things in <code>/data/</code> directory. But don&#39;t worry because for example we have moved your home folder into <code>/data/home/$USER/</code> and made correct symlinks so you won&#39;t even notice it&#39;s elsewhere.</p>

<h3 id="web-root-htdocs">Web root (htdocs)</h3>

<p>Your content is served from: <code>/data/wordpress/htdocs/</code></p>

<h3 id="wordpress-installation-path">WordPress installation path</h3>

<p>WordPress is installed in: <code>/data/wordpress/htdocs/wordpress/</code></p>

<h3 id="wp-content">WP-content</h3>

<p>WP-content is moved outside of wordpress directory into: <code>/data/wordpress/htdocs/wp-content/</code></p>

<h3 id="log-files">Log files</h3>

<p>All logs are saved in: <code>/data/log/</code></p>

<h2 id="project-structure">Project Structure</h2>

<p>WP-Palvelu uses custom directory layout which is derived from <a href="https://github.com/roots/bedrock">Bedrock</a>. Bedrock is WordPress layout which uses composer for package management. It&#39;s not advised to modify WP core files so usually your application is only what&#39;s included in <strong>wp-content</strong> -directory. When we use version control is much better if we have separated it to a folder which is outside of core installation. This template also includes tests, composer.json, custom nginx rules and files for local development (Vagrantfile). Let&#39;s take a closer look at the Project directory:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">├── config.yml # See about Configuration above
├── composer.json # Use composer for package handling
├── composer.lock
├── gulpfile.js # Example for using gulp
├── Vagrantfile # Advanced vagrant environment and scripts packaged in Vagrantfile
│
├── tests # Here you can include tests for your wordpress instance
│   └── rspec
│       └── test.rb # Our default tests use rspec/poltergeist/phantomjs since we have found them very effective.
│
├── nginx # Here you can have your custom modifications to nginx which are also used in production
│   └── custom.conf # Default file with few examples to get started
│
├── scripts
│   ├── hooks # Git hooks for your project
│   │   ├── pre-commit # This is run after every commit
│   │   └──
│   │
│   ├── Wordpress
│   │   └── Installer.php #Additional composer scripts
│   │
│   └── run-tests # Bash-script as an interface for your tests in WP-Palvelu Production and Dev environment
│
├── vendor # Composer packages go here
└── htdocs # This is the web root of your site
    ├── wp-content # wp-content is moved out of core
    │   ├── mu-plugins
    │   ├── plugins
    │   ├── themes
    │   └── languages
    ├── wp-config.php
    ├── index.php
    └── wordpress # Wordpress Core installed by composer
        ├── wp-admin
        ├── index.php
        ├── wp-load.php
        └── ...
</code></pre></div>

                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    Developer Documentation for <a href="https://wp-palvelu.fi">WP-Palvelu.fi</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53086901-9', 'auto');
  ga('send', 'pageview');
</script>

        
    </body>
</html>
