<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <link rel="icon" href="/images/favicon.png">

        <title>WP-Palvelu.fi Docs : Composer</title>
        <meta name="description" content="Documentation for Developers">

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/gh-buttons.css">
        <link href='https://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
    </head>
    <body>
    <a class="fork-me-in-github" href="https://github.com/WP-Palvelu/developer-documentation"><img style="z-index: 1000; position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>

        <div class="container">
            <div class="row">
                <div id="header" class="col-sm-12">
                    <h4><a class="brand" href="/"><img class="logo" src="/images/wp-palvelu-logo.png"> - Docs</a>
    <small>Documentation for Developers</small>
</h4>

                </div>
            </div>

            <div class="row">
                
                
                    <div id="navigation" class="col-sm-2">
                        <ul class="nav nav-list">
    <li><a href="/">Home</a></li>
    
        
        

        
            
                <li class="nav-header">Get Started</li>
            
            <li data-order="1"><a href="/get-started/whats-included.html">Basics and Paths</a></li>
        
            
            <li data-order="2"><a href="/get-started/configure-ssh.html">Configure SSH</a></li>
        
    
        
        

        
            
                <li class="nav-header">Configuration</li>
            
            <li data-order=""><a href="/configuration/composer.html">Composer</a></li>
        
            
            <li data-order=""><a href="/configuration/nginx.html">Web server - Nginx</a></li>
        
    
        
        

        
            
                <li class="nav-header">Testing</li>
            
            <li data-order=""><a href="/tests/integration-tests.html">Integration tests using Rspec</a></li>
        
    
        
        

        
            
                <li class="nav-header">Development</li>
            
            <li data-order="5"><a href="/development/using-git-hooks.html">Using Git hooks</a></li>
        
            
            <li data-order="1"><a href="/development/intro.html">Intro</a></li>
        
            
            <li data-order=""><a href="/development/gulp.html">Compile assets & automate with Gulp</a></li>
        
            
            <li data-order=""><a href="/development/mailcatcher.html">Debug mails with MailCatcher</a></li>
        
            
            <li data-order=""><a href="/development/xdebug.html">Profile runtime with xDebug & Webgrind</a></li>
        
    
        
        

        
            
                <li class="nav-header">Deployment</li>
            
            <li data-order=""><a href="/deployment/using-git.html">Deploy using Git</a></li>
        
    
        
        

        
            
                <li class="nav-header">Management</li>
            
            <li data-order=""><a href="/management/use-wordpress-with-wpcli.html">Manage with wp-cli</a></li>
        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class="divider"></li> first to break up the content. -->
</ul>

                    </div>

                    <div id="content" class="col-sm-10">
                        <div class="page-header">
    <h2>Composer
        
    </h2>
</div>
<a id="edit-this-page" href="https://github.com/WP-Palvelu/developer-documentation/edit/gh-pages/_posts/2015-10-11-composer.md" class="button icon edit github">Edit this page in GitHub</a>

<h2 id="what-is-it">What is it?</h2>

<blockquote>
<p>Composer is a dependency manager for PHP that has been gaining steam lately. Your first question is most likely “what is a dependency manager and why do I need one?”. Almost any code you write probably ends up depending on 3rd party libraries. All of these libraries (projects, frameworks, files, etc) become dependencies of your project. Composer lets you declare the dependencies for a project and it will install and manage them.</p>

<p>Source: <a href="https://roots.io/using-composer-with-wordpress/">roots.io</a></p>
</blockquote>

<h2 id="how-to-use-composer-with-wordpress">How to use composer with wordpress</h2>

<h3 id="example">Example</h3>

<p>Let&#39;s look at simplified version of our composer.json as an example over here:</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;repositories&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;composer&quot;</span><span class="p">,</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wpackagist.org&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;require&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;php&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=5.3.2&quot;</span><span class="p">,</span>

    <span class="nt">&quot;johnpbloch/wordpress&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>

    <span class="nt">&quot;wpackagist-plugin/wordpress-seo&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>

    <span class="nt">&quot;wpackagist-theme/twentyfifteen&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;extra&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;installer-paths&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;htdocs/wp-content/plugins/{$name}/&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;type:wordpress-plugin&quot;</span><span class="p">],</span>
      <span class="nt">&quot;htdocs/wp-content/mu-plugins/{$name}/&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;type:wordpress-muplugin&quot;</span><span class="p">],</span>
      <span class="nt">&quot;htdocs/wp-content/themes/{$name}&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;type:wordpress-theme&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;wordpress-install-dir&quot;</span><span class="p">:</span> <span class="s2">&quot;htdocs/wordpress&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="explanation">Explanation</h3>

<h4 id="repositories-section">Repositories section:</h4>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;repositories&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;composer&quot;</span><span class="p">,</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wpackagist.org&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Repositories</strong> section tells composer directions of where to look for your packages. In order for composer to find your beloved plugins and themes you&#39;ll need to point it to <a href="http://wpackagist.org">wpackagist.org</a> which is mirror of all plugins and themes which you can download from <a href="http://wordpress.org/plugins/">wordpress.org</a>. You can add any custom repositories you have here, but for Wordpress you&#39;ll need to use wpackagist.</p>

<h4 id="require-section">Require section:</h4>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;require&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;php&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=5.3.2&quot;</span><span class="p">,</span>

    <span class="nt">&quot;johnpbloch/wordpress&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>

    <span class="nt">&quot;wpackagist-plugin/wordpress-seo&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>

    <span class="nt">&quot;wpackagist-theme/twentyfifteen&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Require</strong> section tells composer our minimum needed PHP version and packages to install.</p>

<p><code>&quot;johnpbloch/wordpress&quot;: &quot;*&quot;</code> means newest available version of WordPress.</p>

<p><code>&quot;wpackagist-plugin/wordpress-seo&quot;: &quot;*&quot;</code> means that we need plugin <a href="http://wordpress.org/plugins/wordpress-seo">WordPress Seo</a></p>

<p><code>&quot;wpackagist-theme/twentyfifteen&quot;: &quot;*&quot;</code> means that we need theme <a href="http://wordpress.org/themes/twentyfifteen">Twentyfifteen</a></p>

<h4 id="extra-section">Extra section:</h4>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;extra&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;installer-paths&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;htdocs/wp-content/plugins/{$name}/&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;type:wordpress-plugin&quot;</span><span class="p">],</span>
      <span class="nt">&quot;htdocs/wp-content/mu-plugins/{$name}/&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;type:wordpress-muplugin&quot;</span><span class="p">],</span>
      <span class="nt">&quot;htdocs/wp-content/themes/{$name}&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;type:wordpress-theme&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;wordpress-install-dir&quot;</span><span class="p">:</span> <span class="s2">&quot;htdocs/wordpress&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>By default composer installs everything to <strong>vendor</strong> directory in the root of your project. Luckily for us wpackagist uses clever plugin <a href="https://packagist.org/packages/composer/installers">composer/installers</a> which allows us to have custom installation path. In <strong>Extra</strong> section we can define installation paths for different types of packages.</p>

<h2 id="adding-your-own-plugins-and-themes">Adding your own plugins and themes</h2>

<p>Best way to develop custom plugins and themes is to add them into their own repositories and install them by composer.</p>

<p>You can do this by adding <code>composer.json</code> file for into your plugin/theme repo:</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;your-name/custom-plugin&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;wordpress-plugin&quot;</span><span class="p">,</span>
  <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;GPLv3&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Plugin description&quot;</span><span class="p">,</span>
  <span class="nt">&quot;homepage&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/your-name/custom-plugin&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>then requiring it in your project like:</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;repositories&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;vcs&quot;</span><span class="p">,</span>
        <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/your-name/custom-plugin.git&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;require&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;your-name/custom-plugin&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>This way you can use plugins and themes from Github or Bitbucket.</p>

<h2 id="more-information">More information</h2>

<p>You can find more documentation on <a href="https://getcomposer.org/">getcomposer.org</a></p>


                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    Developer Documentation for <a href="https://wp-palvelu.fi">WP-Palvelu.fi</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53086901-9', 'auto');
  ga('send', 'pageview');
</script>

        
    </body>
</html>
